# Задание

Настроить управление конфигурацией проекта через salt.

# Подготовка к запуску

Публичный ключ должен находиться по пути: ```~/.ssh/id_rsa.pub```

В системе должен быть установлен terraform. Тестировалось на версии terraform v1.6.6.

# Настройка и запуск

* склонировать репозиторий;
* настроить подключение к облаку яндекс. Для этого перейти в каталог ```terraform``` создать файл ```yc.auto.tfvars``` с содержимым (подставить свой токен, id облака и каталога):

```
yc_token     = токен
yc_cloud_id  = id облака
yc_folder_id = id каталога
```

* инициализировать терраформ: ```terraform init```;
* запустить создание инфраструктуры: ```terraform apply```;
* после создания инфраструктуры дождаться загрузки ВМ;
* подключиться к salt-master по ssh (ip-адрес будет в terraform output);
* дождаться подключения миньонов. Для этого периодически выполнить команду: ```salt-key -L```;
* принять ключи миньонов командой: ```salt-key -A```
* дождаться применения миньонами состояний;
* перейти в браузере на адрес балансировщика (ip-адрес будет в terraform output).
